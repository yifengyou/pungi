#!/usr/bin/env python
# -*- coding: utf-8 -*-

"""
This script creates unified ISOs for a specified compose.
Unified ISOs are created per architecture and contain all variant packages and
repos.
"""

import argparse
import os
import sys

here = sys.path[0]
if here != '/usr/bin':
    # Git checkout
    sys.path[0] = os.path.dirname(here)

from pungi_utils.unified_isos import UnifiedISO


def parse_args():
    parser = argparse.ArgumentParser(add_help=True)

    parser.add_argument(
        'compose',
        metavar='<compose-path>',
        nargs=1,
        help='path to compose',
    )

    return parser.parse_args()


def main():
    args = parse_args()
    iso = UnifiedISO(args.compose[0])
    iso.create(delete_temp=True)


if __name__ == '__main__':
    main()
